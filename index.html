<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Maintenance Window - World Clock</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background: linear-gradient(135deg, #74ebd5, #9face6);
      padding: 20px;
      color: #333;
    }
    h1 {
      margin-bottom: 10px;
      color: #222;
    }
    p {
      margin-bottom: 25px;
    }
    .search-container {
      margin-bottom: 25px;
    }
    .search-container input {
      padding: 8px;
      font-size: 16px;
      width: 250px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }
    .search-result {
      background: #fff3b0;
      border-radius: 10px;
      padding: 15px;
      margin: 10px auto;
      width: 300px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      text-align: left;
      color: #222;
    }
    .clock-container {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 20px;
    }
    .clock {
      border-radius: 15px;
      padding: 20px;
      width: 230px;
      box-shadow: 0 6px 12px rgba(0,0,0,0.2);
      transition: transform 0.2s;
      font-weight: bold;
      color: white;
    }
    .clock:hover {
      transform: scale(1.05);
    }
    .clock:nth-child(1) { background: linear-gradient(135deg, #FFD700, #FFA500); } 
    .clock:nth-child(2) { background: linear-gradient(135deg, #4facfe, #00f2fe); color: #222;} 
    .clock:nth-child(3) { background: linear-gradient(135deg, #f6d365, #fda085); color: #222;} 
    .clock:nth-child(4) { background: linear-gradient(135deg, #a1c4fd, #c2e9fb); } 
    .clock:nth-child(5) { background: linear-gradient(135deg, #667eea, #764ba2); } 
    .clock:nth-child(6) { background: linear-gradient(135deg, #f6e3b4, #f7c59f); color: #222;} 
    .clock:nth-child(7) { background: linear-gradient(135deg, #81ecec, #00cec9); color: #222;} 
    .clock:nth-child(8) { background: linear-gradient(135deg, #ff9a9e, #fecfef); color: #222;} 

    input[type="date"], input[type="time"] {
      font-size: 16px;
      font-weight: bold;
      padding: 6px;
      margin: 5px 0;
      width: 100%;
      border: none;
      border-radius: 6px;
      background: rgba(255,255,255,0.4);
      color: #000;
      text-align: center;
    }

    .dst-info {
      margin-top: 40px;
      background: #ffe0e0;
      padding: 15px;
      border-radius: 10px;
      width: 90%;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      color: #333;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      text-align: left;
    }

    /* Request City Box */
    #request-city {
      margin-top: 20px;
      padding: 15px;
      background: #fff;
      width: 300px;
      margin-left: auto;
      margin-right: auto;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      display: none;
    }
    #request-city input, #request-city button {
      padding: 8px;
      margin-top: 8px;
      width: 90%;
      border-radius: 6px;
    }
    #request-city button {
      background: #333;
      color: white;
      border: none;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>üïí Maintenance Window Planner</h1>
  <p>Change any date/time ‚Äì all other time zones will update automatically.</p>

  <div class="search-container">
    <input type="text" id="city-search" placeholder="Search a city...">
  </div>
  <div id="search-results"></div>

  <!-- Request City Box -->
  <div id="request-city">
    <p>‚ùì City not found? Request it below:</p>

    <form action="https://formspree.io/f/xnnevbvr" method="POST">
      <input type="hidden" name="requested_city" id="requestedCity">
      <input type="email" name="email" placeholder="Your email (optional)">
      <button type="submit">Submit Request</button>
    </form>
  </div>

  <div class="clock-container">
    <div class="clock">
      <h3>India (IST)</h3>
      <input type="date" id="ist-date">
      <input type="time" id="ist-time">
    </div>
    <div class="clock">
      <h3>Eastern (EST)</h3>
      <input type="date" id="est-date">
      <input type="time" id="est-time">
    </div>
    <div class="clock">
      <h3>Central (CST)</h3>
      <input type="date" id="cst-date">
      <input type="time" id="cst-time">
    </div>
    <div class="clock">
      <h3>Mountain (MST)</h3>
      <input type="date" id="mst-date">
      <input type="time" id="mst-time">
    </div>
    <div class="clock">
      <h3>Pacific (PST)</h3>
      <input type="date" id="pst-date">
      <input type="time" id="pst-time">
    </div>
    <div class="clock">
      <h3>Alaska (AKST)</h3>
      <input type="date" id="akst-date">
      <input type="time" id="akst-time">
    </div>
    <div class="clock">
      <h3>Hawaii (HST)</h3>
      <input type="date" id="hst-date">
      <input type="time" id="hst-time">
    </div>
    <div class="clock">
      <h3>Atlantic (AST)</h3>
      <input type="date" id="ast-date">
      <input type="time" id="ast-time">
    </div>
  </div>

  <div class="dst-info">
    <h3>üåû Daylight Saving Time Info</h3>
    <p>
      <b>Starts:</b> Second Sunday in March at 2:00 AM local time<br>
      <b>Ends:</b> First Sunday in November at 2:00 AM local time<br>
      Note: Not all time zones observe DST (e.g., AST, HST, AKST). Please adjust accordingly.
    </p>
  </div>

  <script>
    const timeZones = {
      ist: "Asia/Kolkata",
      est: "America/New_York",
      cst: "America/Chicago",
      mst: "America/Denver",
      pst: "America/Los_Angeles",
      akst: "America/Anchorage",
      hst: "Pacific/Honolulu",
      ast: "America/Halifax"
    };

    function updateAll(fromTz, dateValue, timeValue) {
      let [hh, mm] = timeValue.split(":").map(Number);
      let [yyyy, mon, dd] = dateValue.split("-").map(Number);
      let localDate = new Date(Date.UTC(yyyy, mon - 1, dd, hh, mm));
      let utcDate = new Date(localDate.toLocaleString("en-US", {timeZone: "UTC"}));
      let fromDate = new Date(localDate.toLocaleString("en-US", {timeZone: timeZones[fromTz]}));
      utcDate.setTime(localDate.getTime() - (fromDate.getTime() - utcDate.getTime()));

      for (let tz in timeZones) {
        let zoned = new Date(utcDate.toLocaleString("en-US", {timeZone: timeZones[tz]}));
        let y = zoned.getFullYear();
        let m = String(zoned.getMonth() + 1).padStart(2, "0");
        let d = String(zoned.getDate()).padStart(2, "0");
        let h = String(zoned.getHours()).padStart(2, "0");
        let mn = String(zoned.getMinutes()).padStart(2, "0");
        document.getElementById(`${tz}-date`).value = `${y}-${m}-${d}`;
        document.getElementById(`${tz}-time`).value = `${h}:${mn}`;
      }
    }

    for (let tz in timeZones) {
      document.getElementById(`${tz}-date`).addEventListener("input", () => {
        updateAll(tz,
          document.getElementById(`${tz}-date`).value,
          document.getElementById(`${tz}-time`).value
        );
      });
      document.getElementById(`${tz}-time`).addEventListener("input", () => {
        updateAll(tz,
          document.getElementById(`${tz}-date`).value,
          document.getElementById(`${tz}-time`).value
        );
      });
    }

    function init() {
      let now = new Date();
      let istNow = new Date(now.toLocaleString("en-US", {timeZone: "Asia/Kolkata"}));
      let y = istNow.getFullYear();
      let m = String(istNow.getMonth() + 1).padStart(2, "0");
      let d = String(istNow.getDate()).padStart(2, "0");
      let h = String(istNow.getHours()).padStart(2, "0");
      let mn = String(istNow.getMinutes()).padStart(2, "0");
      updateAll("ist", `${y}-${m}-${d}`, `${h}:${mn}`);
    }
    init();

    const cityTimeZones = {
      "Albuquerque": "America/Denver",
      "Aurora": "America/Denver",
      "Austin": "America/Chicago",
      "Bayamon": "America/Puerto_Rico",
      "Beltsville": "America/New_York",
      "Bellevue": "America/Los_Angeles",       
      "Birmingham": "America/Chicago",
      "Bloomfield": "America/New_York",
      "Boise": "America/Boise",
      "Bothell": "America/Los_Angeles",
      "Branchburg": "America/New_York",
      "Charlotte": "America/New_York",
      "Cheektowaga": "America/New_York",
      "Cleveland": "America/New_York",
      "Columbus": "America/New_York",
      "Dallas": "America/Chicago",
      "Detroit":"America/Detroit",
      "Draper": "America/Denver",
      "Eagan": "America/Chicago",
      "El Monte": "America/Los_Angeles",
      "El Paso": "America/Denver",
      "Elgin": "America/Chicago",
      "Escondido": "America/Los_Angeles",
      "Everglades": "America/New_York",
      "Fort Myers": "America/New_York",
      "Fort Worth": "America/Chicago",
      "Fresno": "America/Los_Angeles",
      "Hammond": "America/Chicago",
      "Harrison": "America/New_York",
      "Honolulu": "Pacific/Honolulu",
      "Houston": "America/Chicago",
      "Indianapolis": "America/Indiana/Indianapolis",
      "Irvine": "America/Los_Angeles",
      "Jacksonville": "America/New_York",
      "Kansas City": "America/Chicago",
      "Las Vegas": "America/Los_Angeles",
      "Little Rock": "America/Chicago",
      "Livonia": "America/Detroit",
      "Louisville": "America/Kentucky/Louisville",
      "McAllen": "America/Chicago",
      "Memphis": "America/Chicago",
      "Milwaukee": "America/Chicago",
      "Mobile": "America/Chicago",
      "Nashville": "America/Chicago",
      "New Berlin": "America/Chicago",
      "Norcross": "America/New_York",
      "Norfolk": "America/New_York",
      "Norristown": "America/New_York",
      "Norton": "America/New_York",
      "Oakland": "America/Los_Angeles",
      "Oklahoma City": "America/Chicago",
      "Omaha": "America/Chicago",
      "Ontario": "America/Los_Angeles",
      "Orlando": "America/New_York",
      "Pennsauken": "America/New_York",
      "Phoenix": "America/Phoenix",
      "Pittsburgh": "America/New_York",
      "Polaris": "America/Los_Angeles",        
      "Portland": "America/Los_Angeles",
      "Providence": "America/New_York",
      "Riverside": "America/Los_Angeles",
      "Sacramento": "America/Los_Angeles",
      "San Francisco": "America/Los_Angeles",
      "Santa Clara": "America/Los_Angeles",
      "Santa Fe Springs": "America/Los_Angeles",
      "Simi Valley": "America/Los_Angeles",
      "St. Louis": "America/Chicago",
      "Stockton": "America/Los_Angeles",
      "Syosset": "America/New_York",
      "Syracuse": "America/New_York",
      "Tampa": "America/New_York",
      "Tempe": "America/Phoenix",
      "Titan": "America/Chicago",              
      "Torrance": "America/Los_Angeles",
      "Wayne": "America/New_York",
      "Worthington": "America/Chicago",
      "Halifax": "America/Halifax"
    };

    const tzAbbreviations = {
      "America/New_York": "EST",
      "America/Detroit": "EST",
      "America/Kentucky/Louisville": "EST",
      "America/Indiana/Indianapolis": "EST",
      "America/Chicago": "CST",
      "America/Boise": "MST",
      "America/Denver": "MST",
      "America/Phoenix": "MST",
      "America/Los_Angeles": "PST",
      "America/Anchorage": "AKST",
      "Pacific/Honolulu": "HST",
      "America/Puerto_Rico": "AST",
      "America/Halifax": "AST"
    };

    document.getElementById("city-search").addEventListener("input", function() {
      const query = this.value.trim().toLowerCase();
      const resultsDiv = document.getElementById("search-results");
      resultsDiv.innerHTML = "";

      if(query.length === 0) {
        document.getElementById("request-city").style.display = "none";
        return;
      }

      let matchFound = false;

      const seen = new Set();
      for(let city in cityTimeZones) {
        if(city.toLowerCase().includes(query) && !seen.has(city.toLowerCase())) {
          matchFound = true;
          seen.add(city.toLowerCase());
          const tz = cityTimeZones[city];
          const abbr = tzAbbreviations[tz] || tz;
          const now = new Date().toLocaleString("en-US", {timeZone: tz});
          const dateTime = new Date(now);
          const options = {hour: '2-digit', minute:'2-digit', second:'2-digit', hour12:true};
          const timeStr = dateTime.toLocaleTimeString('en-US', options);
          const dateStr = dateTime.toLocaleDateString('en-US');
          const resultBox = document.createElement("div");
          resultBox.className = "search-result";
          resultBox.innerHTML = `üìç <b>${city}</b><br>Time Zone: <b>${abbr}</b><br>Date: ${dateStr}<br>Time: ${timeStr}`;
          resultsDiv.appendChild(resultBox);
        }
      }

      // Show request city box if no match
      if (!matchFound) {
        document.getElementById("requestedCity").value = query;
        document.getElementById("request-city").style.display = "block";
      } else {
        document.getElementById("request-city").style.display = "none";
      }
    });
  </script>
</body>
</html>
